%%{init: {'theme': 'dark', 'themeVariables': { 'primaryColor': '#0d1117', 'primaryTextColor': '#ffffff', 'primaryBorderColor': '#30363d', 'lineColor': '#8b949e', 'tertiaryColor': '#161b22'}}}%%
flowchart TD
    A[ðŸ”„ Trigger Events] --> B{Trigger Type?}
    B -->|Manual| C[ðŸ“¥ Fetch WooCommerce Orders]
    B -->|Real-time| C
    B -->|Scheduled| D[ðŸ”„ Batch Order Lookup]
    D --> C
    C --> E{Order Exists in HubSpot?}
    E -->|No| F[ðŸ‘¤ Customer Lookup & Association]
    E -->|Yes| G[â­ï¸ Skip Sync]
    F --> H[ðŸ“Š Data Transformation & Mapping]
    H --> I{Valid Customer Data?}
    I -->|Yes| J[ðŸ›ï¸ Create HubSpot Order]
    I -->|No| K[âŒ Abort Order Creation]
    J --> L[ðŸ“¦ Process Line Items & Products]
    L --> M[âœ… Sync Complete]